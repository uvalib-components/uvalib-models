<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../polymerfire/firebase.html">
<link rel="import" href="../polymerfire/firebase-query.html">
<link rel="import" href="../polymerfire/firebase-document.html">
<link rel="import" href="../app-storage/app-indexeddb-mirror/app-indexeddb-mirror.html">
<link rel="import" href="firebase-app.html">
<link rel="import" href="../uvalib-helper-libs/uvalib-helper-behaviors.html">

<!--
`uvalib-model-banners`
data model for the banners used for the Library site

@demo demo/index.html
-->

<dom-module id="uvalib-model-banners">
  <template>
    <firebase-document id="query" app-name="uvalibapi"
      path="/banners/main"
      data="{{tmpData}}" zero-value="[]">
    </firebase-document>
<!--
    <firebase-query id="query"
      app-name="uvalibapi"
      path="/banners/main"
      data="{{data}}">
    </firebase-query>
-->
    <app-indexeddb-mirror
        key="banners"
        data="{{tmpData}}"
        persisted-data="{{data}}">
    </app-indexeddb-mirror>
  </template>

  <script>
    Polymer({

      is: 'uvalib-model-banners',
      behaviors: [uvalibbehaviors.helpers],
      properties: {
        /**
         * The banners
         *
         * @type {Object[]}
         */
        data: {
          type: Array,
          value: [],
          notify: true
        },
        test: {
          type: Array,
          value: [
            {title:'foo'},
            {title:'bar'}
          ],
          notify: true
        },
        /**
         * The area the banners will be displayed to
         */
        area: {
          type: String,
          value: 'main',
        },
        random: {
          type: Object,
          computed: '_random(data)',
          notify: true
        }
      }

    });
  </script>
</dom-module>
